<div class="container mt-5">
  <div class="card shadow-lg border-0 rounded">
    <div class="card-header text-center bg-tan">
      <h2 class="text-primary m-0">Edit Profile</h2>
    </div>
    <div class="card-body p-4">
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <!-- First Name -->
        <div class="form-group mb-3">
          <label for="fname" class="form-label">First Name</label>
          <input type="text" id="fname" class="form-control" formControlName="fname" />
          <div *ngIf="formSubmitted && editForm.get('fname')?.errors?.['required']" class="text-danger">
            First name is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('fname')?.errors?.['minlength']" class="text-danger">
            First Name must be at least 3 characters.
          </div>
          <div *ngIf="formSubmitted && editForm.get('fname')?.errors?.['maxlength']" class="text-danger">
            First Name must not exceed 100 characters.
          </div>
        </div>

        <!-- Last Name -->
        <div class="form-group mb-3">
          <label for="lname" class="form-label">Last Name</label>
          <input type="text" id="lname" class="form-control" formControlName="lname" />
          <div *ngIf="formSubmitted && editForm.get('lname')?.errors?.['required']" class="text-danger">
            Last name is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('lname')?.errors?.['minlength']" class="text-danger">
            Last Name must be at least 3 characters.
          </div>
          <div *ngIf="formSubmitted && editForm.get('lname')?.errors?.['maxlength']" class="text-danger">
            Last Name must not exceed 100 characters.
          </div>
        </div>

        <!-- Email -->
        <div class="form-group mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" id="email" class="form-control" formControlName="email" />
          <div *ngIf="formSubmitted && editForm.get('email')?.errors?.['required']" class="text-danger">
            Email is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('email')?.errors?.['email']" class="text-danger">
            Please provide a valid email address.
          </div>
          <div *ngIf="formSubmitted && editForm.get('email')?.errors?.['maxlength']" class="text-danger">
            Email must not exceed 255 characters.
          </div>
          <div *ngIf="formSubmitted && editForm.get('email')?.errors?.['backend']" class="text-danger">
            {{ editForm.get('email')?.errors?.['backend'] }}
          </div>
        </div>

        <!-- Phone -->
        <div class="form-group mb-3">
          <label for="phone" class="form-label">Phone</label>
          <input type="number" id="phone" class="form-control" formControlName="phone" />
          <div *ngIf="formSubmitted && editForm.get('phone')?.errors?.['required']" class="text-danger">
            Phone is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('phone')?.errors?.['maxlength']" class="text-danger">
            Phone number must not exceed 25 characters.
          </div>
        </div>

        <!-- Address -->
        <div class="form-group mb-3">
          <label for="address" class="form-label">Address</label>
          <input type="text" id="address" class="form-control" formControlName="address" />
          <div *ngIf="formSubmitted && editForm.get('address')?.errors?.['required']" class="text-danger">
            Address is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('address')?.errors?.['maxlength']" class="text-danger">
            Address must not exceed 255 characters.
          </div>

        </div>

        <!-- Age -->
        <div class="form-group mb-3">
          <label for="age" class="form-label">Age</label>
          <input type="number" id="age" class="form-control" formControlName="age" />
          <div *ngIf="formSubmitted && editForm.get('age')?.errors?.['required']" class="text-danger">
            Age is required.
          </div>
          <div *ngIf="formSubmitted && editForm.get('age')?.errors?.['min']" class="text-danger">
            Age must be at least 18 years old.
          </div>
          <div *ngIf="formSubmitted && editForm.get('age')?.errors?.['max']" class="text-danger">
            Age must be at Max 80 years old.
          </div>
        </div>

        <!-- Photo URL -->
        <div class="form-group mb-3">
          <label for="photo" class="form-label">Photo</label>
          <div>
            <input type="file" class="form-control-file" id="photo" (change)="onFileChange($event)" />
          </div>
          <div *ngIf="editForm.get('photo')?.errors?.['invalidFileType']" class="text-danger">
            Invalid file type. Please select a JPEG, PNG, or GIF image.
          </div>
          <div *ngIf="editForm.get('photo')?.errors?.['fileTooLarge']" class="text-danger">
            File is too large. The maximum size is 2MB.
          </div>
        </div>

        <!-- Buttons -->
        <div class="text-center">
          <button type="submit" class="btn btn-success px-4">Save Changes</button>
          <button type="button" class="btn btn-danger ms-2" (click)="onCancel()">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
